<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="KeyBeats - Select your song and start playing" data-i18n-attr="content" data-i18n="meta.home.description" />

    <title data-i18n="meta.home.title">KeyBeats - Home</title>

    <!-- CSS Stylesheets -->
    <link rel="stylesheet" href="css/index.css" />

    <!-- jQuery Library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- User Model -->
    <script src="js/models/User.js"></script>

    <!-- Song Model -->
    <script src="js/models/Song.js"></script>

    <!-- SongProgress Model -->
    <script src="js/models/SongProgress.js"></script>

    <!-- Custom JavaScript -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

    <script src="https://unpkg.com/i18next@23.2.1/i18next.min.js"></script>

    <script src="https://unpkg.com/i18next-http-backend@2.5.0/i18nextHttpBackend.min.js"></script>

    <script src="https://unpkg.com/i18next-browser-languagedetector@7.2.0/i18nextBrowserLanguageDetector.min.js"></script>

    <script src="js/i18n.js"></script>
    <script src="js/index.js" defer></script>

</head>

<body>
    <!-- Loading Animation Container (GSAP Fractal) -->
    <div class="loading-animation" id="loadingAnimation">
        <div class="fractal-container">
            <svg id="fractalSvg" width="100%" height="100%" viewBox="0 0 800 800">
                    <circle
                        id="fractalCircle"
                        cx="400"
                        cy="400"
                        r="50"
                        fill="#FFB6C1"
                        opacity="0.8" />
                </svg>

            <p class="loading-text" id="loadingText" data-i18n="app.name">
                KeyBeats
            </p>
        </div>
    </div>

    <div class="background-layer" id="backgroundLayer" style="display: none">
        <div class="background-solid"></div>
        <div class="background-animated"></div>
    </div>

    <div class="main-container" id="mainContainer" style="display: none">
        <header class="header" id="header">
            <div class="header-left">
                <a href="index.html" class="logo-link" aria-label="KeyBeats Home" data-i18n-attr="aria-label">
                    <h1 class="logo-text" data-i18n="app.name">KeyBeats</h1>
                </a>
            </div>

            <div class="header-center">
                <i class="fas fa-house"></i>
                <h2 class="page-title" data-i18n="home.title">HOME</h2>
            </div>

            <div class="header-right">
                <div class="user-badge-wrapper">
                    <div class="level-badge" id="levelBadge">
                        <span class="level-number" id="levelNumber">0</span>
                    </div>

                    <div class="user-info" id="userInfo">
                        <div class="avatar-container">
                            <img src="assets/avatars/av0.png" alt="User avatar" data-i18n-attr="alt" data-i18n="user.avatar" class="avatar-image" id="headerAvatar" />
                        </div>
                    </div>

                    <div class="logout-container">
                        <button id="logoutBtn" class="btn-logout" aria-label="Logout">
                                <i class="fas fa-right-from-bracket"></i>
                            </button>
                    </div>
                </div>

                <div class="language-selector">
                    <label for="language-select" data-i18n="common.selectLanguage">Language:</label>
                    <select id="language-select">
                            <option value="en">English</option>
                            <option value="de">Deutsch</option>
                        </select>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <div class="song-list-section">
                <div class="song-container" id="songContainer"></div>
            </div>

            <div class="song-details-section">
                <div class="info-song" id="infoSong">
                    <div class="details-info-container">

                        <div class="placeholder-message" id="placeholderMessage">
                            <p class="placeholder-text" data-i18n="home.selectSong">
                                Select a song to view details
                            </p>
                        </div>

                        <div class="song-details-content" id="songDetailsContent" style="display: none">
                            <div class="detail-group">
                                <label class="detail-label" id="detailNameLbl" data-i18n="song.name">
                                        NAME
                                    </label>
                                <div class="detail-value" id="detailName">-</div>
                            </div>

                            <div class="details-row">
                                <div class="detail-group">
                                    <label class="detail-label" id="difficultyLbl" data-i18n="song.difficulty">
                                            DIFFICULTY
                                        </label>
                                    <div class="detail-value difficulty-stars" id="detailDifficulty"></div>
                                </div>

                                <div class="detail-group">
                                    <label class="detail-label" id="detailAttemptsLbl" data-i18n="song.attempts">
                                            ATTEMPTS
                                        </label>
                                    <div class="detail-value" id="detailAttempts">0</div>
                                </div>
                            </div>

                            <div class="play-button-container">
                                <button type="button" class="btn-play" id="playBtn" aria-label="Play this song" data-i18n-attr="aria-label" data-i18n="song.play">
                                        <i class="fas fa-play"></i>
                                        <span
                                            data-i18n="common.play">PLAY</span>
                                    </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay" style="display: none">
        <div class="spinner"></div>
        <p class="loading-text" data-i18n="home.loading">
            Loading songs...
        </p>
    </div>

    <a href="#songContainer" class="skip-link" data-i18n="accessibility.skipSongs">
            Skip to song list
        </a>

    <div id="tooltipContainer" class="tooltip-container" role="tooltip" style="display: none"></div>
</body>

</html>